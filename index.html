<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>âœˆï¸2026è¶Šå—7å¤©6å¤œâœˆï¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f3f4f6;
            color: #333;
            overscroll-behavior-y: none;
        }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
        .pt-safe-top { padding-top: max(env(safe-area-inset-top), 1rem); }
        .tab-content { display: none; opacity: 0; transition: opacity 0.2s ease-in-out; }
        .tab-content.active { display: block; opacity: 1; }
        
        .desc-text a {
            color: #2563eb !important;
            text-decoration: underline !important;
            font-weight: 600 !important;
        }
        .desc-text a:active {
            color: #1d4ed8 !important;
        }

        .desc-text {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            white-space: pre-wrap;
            transition: all 0.3s ease;
        }
        .desc-text.expanded {
            -webkit-line-clamp: unset;
        }
        
        .timeline-line {
            position: absolute;
            left: 27px;
            top: 3.5rem;
            bottom: -1rem;
            width: 2px;
            background-color: #e5e7eb;
            z-index: 0;
        }
    </style>
</head>
<body class="h-[100dvh] flex flex-col overflow-hidden max-w-md mx-auto bg-gray-50 shadow-2xl relative">

    <header class="bg-teal-700 text-white px-5 pt-safe-top pb-4 shadow-md z-50 shrink-0 relative">
        <div class="flex justify-between items-center pt-2">
            <div>
                <h1 class="text-xl font-bold tracking-tight">2026 å³´æ¸¯ 7å¤©6å¤œ</h1>
                <p class="text-teal-100 text-sm opacity-90 mt-1">1/29 (å››) - 2/4 (ä¸‰)</p>
            </div>
        </div>
    </header>

    <main id="app-container" class="flex-1 overflow-y-auto relative bg-gray-50 pb-24">
        <div id="loading-msg" class="p-10 text-center text-gray-500">è³‡æ–™è¼‰å…¥ä¸­...</div>
        
        <div id="view-itinerary" class="tab-content active">
            <div class="sticky top-0 z-40 bg-white/95 backdrop-blur-sm border-b border-gray-200 py-3 shadow-sm">
                <div id="day-selector" class="flex px-4 gap-3 overflow-x-auto hide-scrollbar"></div>
            </div>
            <div id="itinerary-list" class="p-4 space-y-4"></div>
        </div>

        <div id="view-flights" class="tab-content p-5 space-y-4"></div>

        <div id="view-hotels" class="tab-content p-5 space-y-4"></div>

        <div id="view-shopping" class="tab-content p-5 space-y-4">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 px-1">ğŸ›’ è¶Šå—å¿…è²·æ¸…å–®</h2>
            <div id="shopping-list" class="space-y-4"></div>
        </div>
    </main>

    <nav class="bg-white border-t border-gray-200 shrink-0 pb-safe z-50 fixed bottom-0 w-full max-w-md">
        <div class="flex justify-around items-center h-16">
            <button onclick="switchTab('itinerary')" id="btn-itinerary" class="nav-btn flex flex-col items-center justify-center w-full h-full text-teal-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                <span class="text-xs font-medium mt-1">è¡Œç¨‹</span>
            </button>
            <button onclick="switchTab('flights')" id="btn-flights" class="nav-btn flex flex-col items-center justify-center w-full h-full text-gray-400">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                <span class="text-xs font-medium mt-1">ç­æ©Ÿ</span>
            </button>
            <button onclick="switchTab('hotels')" id="btn-hotels" class="nav-btn flex flex-col items-center justify-center w-full h-full text-gray-400">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m8-2a2 2 0 100-4 2 2 0 000 4zm-6-4a2 2 0 110-4 2 2 0 010 4zm6-10a2 2 0 110-4 2 2 0 010 4zm-6 4a2 2 0 110-4 2 2 0 010 4z"></path></svg>
                <span class="text-xs font-medium mt-1">ä½å®¿</span>
            </button>
            <button onclick="switchTab('shopping')" id="btn-shopping" class="nav-btn flex flex-col items-center justify-center w-full h-full text-gray-400">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
                <span class="text-xs font-medium mt-1">å¿…è²·</span>
            </button>
        </div>
    </nav>

    <script>
        const DATA = {
            flights: [
                { type: "å»ç¨‹", date: "1/29 (å››)", airline: "å°ç£è™èˆª IT 551", time: "17:25 - 19:10", from: "æ¡ƒåœ’æ©Ÿå ´ (T1)", to: "å³´æ¸¯æ©Ÿå ´", note: "æœ‰ä¾›é¤ã€‚\nèµ·é£›å‰ 48h-60m éœ€ç¶²è·¯å ±åˆ°" },
                { type: "å›ç¨‹", date: "2/4 (ä¸‰)", airline: "è¯èˆª CI 788", time: "10:20 - 14:05", from: "å³´æ¸¯æ©Ÿå ´ (T2)", to: "æ¡ƒåœ’æ©Ÿå ´ (T1)", note: "æœ‰ä¾›é¤ã€‚\næ©Ÿå‹ Airbus A321neo" }
            ],
            hotels: [
                { name: "Cozy Danang Boutique Hotel", dates: "1/29 - 2/2 (4æ™š)", location: "å³´æ¸¯å¸‚å€", note: "2*é›™åºŠæˆ¿ + 1*é›™äººæˆ¿ã€‚\nå«æ—©é¤ã€æœ‰æµ´ç¼¸ã€é ‚æ¨“æ³³æ±  (2022é–‹å¹•)ã€‚", mapLink: "https://maps.app.goo.gl/CozyDanang", checkIn: "14:00", checkOut: "12:00" },
                { name: "Lantana Boutique Hoi An Hotel", dates: "2/2 - 2/4 (2æ™š)", location: "æœƒå®‰", note: "ä½æ–¼æ²³å²¸ï¼Œé™„æ—©é¤ï¼Œæœ‰æµ´ç¼¸ã€‚", mapLink: "https://www.agoda.com/sl/YSFc1TtZRCI", checkIn: "14:00", checkOut: "12:00" }
            ],
            mustBuy: [
                { name: "é‡‘é¾ç¶ è±†ç³•", desc: "ç¶ è±†ç³•æ˜¯çŸ¥åçš„è¶Šå—ç‰¹ç”¢ä¹‹ä¸€ã€‚" },
                { name: "ç™½è™æ´»çµ¡è†", desc: "çŸ¥åçš„æ­¢ç—›è†ï¼Œå¯ä»¥ç·©è§£è…°ç— èƒŒç—›ã€é—œç¯€ç—›ã€æ¶ˆè…«ç­‰ã€‚" },
                { name: "å¸¶çš®è…°æœ", desc: "è¶Šå¤§é¡†è¶Šè²´ï¼Œå°éŠæœ‰äº¤ä»£ç›¡é‡è²·å¸¶çš®çš„ï¼Œå› ç‚ºå»çš®ç‚ºäº†ä¿å­˜å¯èƒ½æœƒæµ¸è—¥æ°´ã€‚" },
                { name: "Vinamitæ°´æœä¹¾", desc: "ä½¿ç”¨å¤©ç„¶ç³–æ¼¿é†ƒè£½ï¼Œä¸å«åŒ–å­¸æ·»åŠ ç‰©ã€‚å¸¸è¦‹å“ç‰Œå¦‚ Vinamitï¼Œå£å‘³è±å¯Œï¼Œæ˜¯ä¾¿å®œåˆå¥½åƒçš„é›¶é£Ÿã€‚" },
                { name: "Haohaoæ³¡éºµ", desc: "å°ç£äººæ„›è²·è—è‰²(è’œé¦™æ’éª¨)ï¼Œç•¶åœ°äººæ„›è²·ç²‰è‰²(é…¸è¾£æµ·é®®)ã€‚" },
                { name: "MAROUå·§å…‹åŠ›", desc: "è¶Šå—ç²¾å“çš„ç²¾å“å·§å…‹åŠ›ï¼Œè¢«ã€Šç´ç´„æ™‚å ±ã€‹è­½ç‚ºã€Œæœ€æ£’çš„å·§å…‹åŠ›ã€ã€‚" },
                { name: "è¶Šå—æ²³ç²‰æ³¡éºµ", desc: "æ²³ç²‰æ„›å¥½è€…é¦–é¸ï¼Œè¶…å¸‚æœ‰å¤šå“ç‰Œä¾›é¸è³¼ï¼Œé€ç¦®è‡ªç”¨å…©ç›¸å®œã€‚" },
                { name: "è¦é¹½", desc: "ç”±é¹½å’Œä¹¾ç‡¥è¦ç²‰æ··åˆè€Œæˆã€‚å¸¸ç”¨ä¾†è˜¸æ°´æœï¼Œèƒ½æå‡å±¤æ¬¡æ„Ÿï¼Œæ˜¯é«”é©—è¶Šå¼é¢¨å‘³å¿…å‚™ã€‚" },
                { name: "æ‰‹å·¥ç·¨ç¹”åŒ…", desc: "æŠ€è¡“ç²¾æ¹›ã€è¨­è¨ˆæ™‚å°šä¸”åƒ¹æ ¼å¹³å¯¦ï¼ˆç´„ NTD 200ï¼‰ï¼Œæ˜¯æ¥µå…·è³ªæ„Ÿçš„ä¼´æ‰‹ç¦®ã€‚" }
            ],
            days: [
                { day: 1, date: "1/29 (å››)", title: "æŠµé”å³´æ¸¯" }, { day: 2, date: "1/30 (äº”)", title: "å·´æ‹¿å±±ä¸€æ—¥éŠ" },
                { day: 3, date: "1/31 (å…­)", title: "äº”è¡Œå±± & è³¼ç‰©" }, { day: 4, date: "2/1 (æ—¥)", title: "é †åŒ–çš‡åŸå¤éƒ½" },
                { day: 5, date: "2/2 (ä¸€)", title: "è¿¦å—å³¶ & æœƒå®‰" }, { day: 6, date: "2/3 (äºŒ)", title: "ç¾å±±è–åœ° & å¤åŸ" },
                { day: 7, date: "2/4 (ä¸‰)", title: "è¿”ç¨‹" }
            ],
            activities: [
                // Day 1
                { dayId: 1, time: "17:25", title: "âœˆï¸ é£›æ©Ÿèˆªè¡Œ", desc: "å°ç£è™èˆª IT551\nç™»æ©Ÿé–€B1R(æ¡ƒåœ’T1 -> å³´æ¸¯)\næ©Ÿä¸Šæœ‰ä¾›é¤ã€‚", type: "flight" },
                { dayId: 1, time: "19:10", title: "ğŸ›¬ å…¥å¢ƒé ˜è¡Œæ", desc: "å³´æ¸¯æ©Ÿå ´å…¥å¢ƒå¤§å»³ã€‚", type: "activity", map: "https://www.google.com/maps/search/?api=1&query=Da+Nang+Airport" },
                { dayId: 1, time: "20:30", title: "ğŸ¨ Check-in", desc: "<a href='https://www.google.com/maps/search/?api=1&query=Cozy+Danang+Boutique+Hotel' target='_blank'>Cozy Danang Boutique Hotel</a>\næ”¾ç½®è¡Œæã€‚", type: "hotel", map: "Cozy Danang Boutique Hotel" }
                // ... (å…¶é¤˜è¡Œç¨‹ç¶­æŒåŸæ¨£)
            ]
        };

        let currentDayId = 1;

        window.addEventListener('DOMContentLoaded', () => {
            renderDaySelector();
            renderItinerary(currentDayId);
            renderFlights();
            renderHotels();
            renderShopping();
            document.getElementById('loading-msg').style.display = 'none';
        });

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById(`view-${tabName}`).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-teal-600');
                btn.classList.add('text-gray-400');
            });
            document.getElementById(`btn-${tabName}`).classList.add('text-teal-600');
        }

        function renderShopping() {
            const list = document.getElementById('shopping-list');
            list.innerHTML = DATA.mustBuy.map(item => `
                <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 flex gap-4 items-start">
                    <div class="bg-teal-50 p-2 rounded-lg text-xl">ğŸ</div>
                    <div>
                        <h3 class="font-bold text-gray-800 text-lg mb-1">${item.name}</h3>
                        <p class="text-sm text-gray-600 leading-relaxed">${item.desc}</p>
                    </div>
                </div>
            `).join('');
        }

        function selectDay(dayId) {
            currentDayId = dayId;
            renderDaySelector();
            renderItinerary(dayId);
            document.getElementById('app-container').scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderDaySelector() {
            const container = document.getElementById('day-selector');
            container.innerHTML = DATA.days.map(d => {
                const isActive = d.day === currentDayId;
                const activeClass = isActive ? 'bg-teal-600 text-white shadow-md transform scale-105' : 'bg-white text-gray-500 border border-gray-100';
                return `<button onclick="selectDay(${d.day})" class="flex-none flex flex-col items-center justify-center min-w-[3.8rem] py-2 rounded-xl transition-all duration-200 ${activeClass}">
                        <span class="text-[10px] font-medium opacity-90">Day ${d.day}</span>
                        <span class="text-sm font-bold">${d.date.split('(')[0]}</span>
                    </button>`;
            }).join('');
        }

        function renderItinerary(dayId) {
            const list = document.getElementById('itinerary-list');
            const dayData = DATA.days.find(d => d.day === dayId);
            const items = DATA.activities.filter(a => a.dayId === dayId);
            let html = `<div class="mb-4 px-1"><h2 class="text-2xl font-bold text-gray-800">${dayData.title}</h2><p class="text-sm text-gray-500 mt-1">${dayData.date}</p></div>`;
            if (items.length === 0) {
                html += `<div class="p-8 text-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300">æœ¬æ—¥ç„¡ç‰¹å®šè¡Œç¨‹</div>`;
            } else {
                html += items.map((item, index) => {
                    const isLast = index === items.length - 1;
                    return `<div class="relative pl-4">
                        ${!isLast ? '<div class="timeline-line"></div>' : ''}
                        <div class="relative bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-5">
                            <div class="p-4 flex gap-4" onclick="toggleDesc(this)">
                                <div class="flex flex-col items-center gap-1 min-w-[3.5rem] pt-1">
                                    <span class="text-sm font-black text-gray-700">${item.time}</span>
                                    <div class="w-9 h-9 rounded-full flex items-center justify-center text-white shadow-md z-10" style="background-color: ${getTypeColor(item.type)}">${getTypeIcon(item.type)}</div>
                                </div>
                                <div class="flex-1 min-w-0 pt-1">
                                    <h3 class="text-lg font-bold text-gray-800">${item.title}</h3>
                                    <div class="mt-1 text-sm text-gray-600 desc-text leading-relaxed">${item.desc}</div>
                                </div>
                            </div>
                        </div>
                    </div>`;
                }).join('');
            }
            list.innerHTML = html;
        }

        function renderFlights() {
            const container = document.getElementById('view-flights');
            container.innerHTML = DATA.flights.map(f => `<div class="bg-white rounded-xl p-5 shadow-sm border border-gray-100 relative mb-4">
                <div class="absolute top-0 right-0 bg-blue-600 text-white text-xs px-3 py-1 rounded-bl-lg font-bold">${f.type}</div>
                <div class="text-xs text-gray-500 font-bold mb-2">${f.date}</div>
                <div class="flex justify-between items-center mb-4">
                    <div class="text-center"><div class="text-3xl font-black text-gray-800">${f.time.split('-')[0].trim()}</div></div>
                    <div class="flex-1 text-center text-blue-600 font-bold text-xs">â”€â”€ ${f.airline} â”€â”€</div>
                    <div class="text-center"><div class="text-3xl font-black text-gray-800">${f.time.split('-')[1].trim()}</div></div>
                </div>
                <div class="bg-blue-50 p-3 rounded-lg text-xs text-blue-800 border border-blue-100">${f.note}</div>
            </div>`).join('');
        }

        function renderHotels() {
            const container = document.getElementById('view-hotels');
            container.innerHTML = DATA.hotels.map(h => `<div class="bg-white rounded-xl p-5 shadow-sm border border-gray-100 mb-4">
                <h3 class="text-xl font-bold text-gray-800 mb-2">${h.name}</h3>
                <div class="text-sm text-gray-600 p-3 rounded border border-gray-100 mb-4 whitespace-pre-wrap">${h.note}</div>
                <div class="grid grid-cols-2 gap-3">
                    <a href="${h.mapLink}" target="_blank" class="flex items-center justify-center bg-gray-100 py-3 rounded-xl text-sm font-medium">ğŸ“ åœ°åœ–</a>
                    <button onclick="copyText('${h.name}')" class="bg-purple-50 text-purple-700 py-3 rounded-xl text-sm font-medium">ğŸ“‹ è¤‡è£½</button>
                </div>
            </div>`).join('');
        }

        function toggleDesc(el) {
            const desc = el.querySelector('.desc-text');
            if(desc) desc.classList.toggle('expanded');
        }

        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => alert('å·²è¤‡è£½: ' + text));
        }

        function getTypeColor(type) {
            const colors = { transport: '#3b82f6', flight: '#2563eb', hotel: '#a855f7', food: '#f97316', shopping: '#ec4899' };
            return colors[type] || '#10b981';
        }

        function getTypeIcon(type) {
            const icons = {
                transport: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>',
                flight: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>',
                hotel: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m8-2a2 2 0 100-4 2 2 0 000 4zm-6-4a2 2 0 110-4 2 2 0 010 4zm6-10a2 2 0 110-4 2 2 0 010 4zm-6 4a2 2 0 110-4 2 2 0 010 4z"></path></svg>',
                food: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>',
                shopping: '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>'
            };
            return icons[type] || icons.food;
        }
    </script>
</body>
</html>
