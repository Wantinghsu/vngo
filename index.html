<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 Â≥¥Ê∏Ø 7Â§©6Â§ú</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom);
        }
        .pt-safe-top {
            padding-top: max(env(safe-area-inset-top), 1rem);
        }
        body {
            -webkit-tap-highlight-color: transparent;
        }
        /* Smooth transition for height changes */
        .expand-content {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .expand-content.open {
            max-height: 500px; /* Arbitrary large height */
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 font-sans h-[100dvh] flex flex-col overflow-hidden max-w-md mx-auto shadow-2xl relative">

    <!-- Header -->
    <div class="bg-teal-700 text-white px-5 pt-safe-top pb-3 shadow-md z-20 shrink-0">
        <div class="flex justify-between items-center pt-3">
            <div>
                <h1 class="text-lg font-bold tracking-tight">2026 Â≥¥Ê∏Ø 7Â§©6Â§ú</h1>
                <p class="text-teal-100 text-xs flex items-center gap-1 opacity-90 mt-0.5">
                    1/29 (Âõõ) - 2/4 (‰∏â)
                </p>
            </div>
            <a href="https://drive.google.com/drive/folders/1Bq2wuzbQWBVWhPaaxSokI7O7cNZOchXd" target="_blank" rel="noreferrer" class="bg-white/10 hover:bg-white/20 p-2 rounded-full transition-colors backdrop-blur-md" title="ÊÜëË≠âË≥áÊñôÂ§æ">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
            </a>
        </div>
    </div>

    <!-- Main Content Area -->
    <div id="main-content" class="flex-1 overflow-hidden relative bg-gray-50 flex flex-col">
        <!-- Content will be injected here by JS -->
    </div>

    <!-- Bottom Navigation -->
    <div class="bg-white border-t border-gray-200 shrink-0 pb-safe z-30">
        <div class="flex justify-around items-center h-14">
            <button onclick="switchTab('itinerary')" id="tab-itinerary" class="flex flex-col items-center justify-center w-full h-full gap-0.5 transition-colors text-teal-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></svg>
                <span class="text-[10px] font-medium">Ë°åÁ®ã</span>
            </button>
            <button onclick="switchTab('flights')" id="tab-flights" class="flex flex-col items-center justify-center w-full h-full gap-0.5 transition-colors text-gray-400 hover:text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12h20"/><path d="M20 12v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M18 12a2 2 0 0 0 0 4h-4a2 2 0 0 1 0-4"/><path d="M6 16a2 2 0 0 1 0-4"/></svg>
                <span class="text-[10px] font-medium">Áè≠Ê©ü</span>
            </button>
            <button onclick="switchTab('hotels')" id="tab-hotels" class="flex flex-col items-center justify-center w-full h-full gap-0.5 transition-colors text-gray-400 hover:text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 22H5a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2Z"/><path d="M9 22v-6a3 3 0 0 1 6 0v6"/><path d="M5 8h14"/><path d="M5 14h14"/></svg>
                <span class="text-[10px] font-medium">‰ΩèÂÆø</span>
            </button>
        </div>
    </div>

    <script>
        // --- Data ---
        const flights = [
            { type: "ÂéªÁ®ã", date: "1/29 (Âõõ)", airline: "Âè∞ÁÅ£ËôéËà™ IT 551", time: "17:25 - 19:10", from: "Ê°ÉÂúíÊ©üÂ†¥ (T1)", to: "Â≥¥Ê∏ØÊ©üÂ†¥", note: "Ëµ∑È£õÂâç 48h-60m ÈúÄÁ∂≤Ë∑ØÂ†±Âà∞" },
            { type: "ÂõûÁ®ã", date: "2/4 (‰∏â)", airline: "ËèØËà™ CI 788", time: "10:20 - 14:05", from: "Â≥¥Ê∏ØÊ©üÂ†¥ (T2)", to: "Ê°ÉÂúíÊ©üÂ†¥ (T1)", note: "Ê©üÂûã Airbus A321neo" }
        ];

        const hotels = [
            { name: "Cozy Danang Boutique Hotel", dates: "1/29 - 2/2 (4Êôö)", location: "Â≥¥Ê∏ØÂ∏ÇÂçÄ", note: "2*ÈõôÂ∫äÊàø + 1*Èõô‰∫∫Êàø„ÄÇÂê´Êó©È§ê„ÄÅÊúâÊµ¥Áº∏„ÄÅÈ†ÇÊ®ìÊ≥≥Ê±† (2022ÈñãÂπï)„ÄÇ", mapLink: "https://maps.app.goo.gl/CozyDanang", checkIn: "14:00", checkOut: "12:00" },
            { name: "Lantana Boutique Hoi An Hotel", dates: "2/2 - 2/4 (2Êôö)", location: "ÊúÉÂÆâ", note: "‰ΩçÊñºÊ≤≥Â≤∏ÔºåÈôÑÊó©È§êÔºåÊúâÊµ¥Áº∏„ÄÇ", mapLink: "https://www.agoda.com/sl/YSFc1TtZRCI", checkIn: "14:00", checkOut: "12:00" }
        ];

        const itinerary = [
            {
                day: 1, date: "1/29 (Âõõ)", title: "ÊäµÈÅîÂ≥¥Ê∏Ø",
                activities: [
                    { id: "1-1", time: "17:25 - 19:10", title: "È£õÊ©üËà™Ë°å", desc: "Âè∞ÁÅ£ËôéËà™ IT551 (Ê°ÉÂúíT1 -> Â≥¥Ê∏Ø)", type: "flight" },
                    { id: "1-2", time: "19:10 - 19:40", title: "ÂÖ•Â¢ÉÈ†òË°åÊùé", desc: "Â≥¥Ê∏ØÊ©üÂ†¥ÂÖ•Â¢É„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Da+Nang+International+Airport" },
                    { id: "1-3", time: "19:40 - 20:00", title: "ÂâçÂæÄÂ∏ÇÂçÄ", desc: "ÂâçÂæÄÊèõÂåØËàáÈ£ØÂ∫ó„ÄÇ", type: "transport", transportMode: "üöó È†êÁ¥ÑÊé•ÈÄÅ (16‰∫∫Â∫ß)" },
                    { id: "1-4", time: "20:00 - 20:30", title: "ÊèõÂåØ", desc: "Á∂≤ÂèãÂª∫Ë≠∞ÔºöÊ©üÂ†¥ÂåØÁéáËã•Â∑ÆÂèØÂ∞ëÈáèÊèõÔºåÊàñË∂ïÂéªÂ∏ÇÂçÄÈäÄÊ®ì (ÈÉ®ÂàÜ20:00Èóú)„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Han+Market+Gold+Shop" },
                    { id: "1-5", time: "20:30 - 21:00", title: "Check-in", desc: "Cozy Danang Boutique Hotel", type: "hotel", mapLink: "https://www.google.com/maps/search/?api=1&query=Cozy+Danang+Boutique+Hotel" },
                    { id: "1-6", time: "21:00 - 22:00", title: "ÊôöÈ§êÔºöÂäüÂ§´È∫µ", desc: "Kungfu Noodle Restaurant„ÄÇ\nÁ∂≤ÂèãÊé®Ëñ¶ÔºöÁâõËÇâÈ∫µ„ÄÅÂª£ÂçóÈ∫µ„ÄÇ", type: "food", mapLink: "https://maps.app.goo.gl/sK8kFCsHdXGCtAwp6?g_st=ipc" },
                    { id: "1-7", time: "22:00", title: "‰ºëÊÅØ", desc: "ËøîÂõûÈ£ØÂ∫ó‰ºëÊÅØ„ÄÇ", type: "transport", transportMode: "üö∂ Ê≠•Ë°å/Áü≠Á®ãGrab" }
                ]
            },
            {
                day: 2, date: "1/30 (‰∫î)", title: "Â∑¥ÊãøÂ±±‰∏ÄÊó•ÈÅä",
                activities: [
                    { id: "2-1", time: "07:00 - 07:30", title: "Êó©È§ê", desc: "È£ØÂ∫óÊó©È§ê (06:30-10:00) ÊàñË∑ØÈÇäÁ∞°È§ê„ÄÇ", type: "food" },
                    { id: "2-2", time: "07:30 - 08:30", title: "ÂâçÂæÄÂ∑¥ÊãøÂ±±Á∫úËªäÁ´ô", desc: "KKday ‰æÜÂõûÊé•ÈÄÅ„ÄÇ\n‚ö†Ô∏è ÈáçË¶ÅÔºöÂ∑¥ÊãøÂ±±Ê∞£Ê∫´‰Ωé 5-10 Â∫¶‰∏îÂ§öËÆäÔºåÂãôÂøÖÂ∏∂Â§ñÂ•óÂíåÈõ®ÂÖ∑„ÄÇ", type: "transport", transportMode: "üöå KKdayÊé•ÈÄÅ", important: true },
                    { id: "2-3", time: "08:30 - 12:30", title: "Á∫úËªä‰∏äÂ±± & ÊôØÈªû", desc: "Êê≠‰πòÁ∫úËªä„ÄÇ\nÂèÉËßÄÔºö‰ΩõÊâãÊ©ã„ÄÅÊÑõÊÉÖËä±Âúí„ÄÅÈªõË≤ùÈÖíÁ™ñ„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Golden+Bridge+Da+Nang" },
                    { id: "2-4", time: "12:30 - 14:00", title: "ÂçàÈ§ê", desc: "Â±±‰∏äÊúâ Buffet ÊàñÂ∞èÂêÉÊî§„ÄÇ\n(ÈÄ£ÁµêÁÇ∫Âú∞Âúñ‰ΩçÁΩÆ)", type: "food", mapLink: "https://maps.app.goo.gl/7MQbUAcnJSxfVzyy8?g_st=ipc" },
                    { id: "2-5", time: "14:00 - 16:30", title: "Ê≥ïÂúãÊùë & Fantasy Park", desc: "ÈÅäË¶ΩÊ≥ïÂúãÊùëÊãçÁÖß„ÄÇ\nFantasy ParkÔºöÈÅéÂ±±Ëªä (Á¥Ñ 124 TWDÔºå‰∫∫ÊΩÆÂ§öË´ãÁïôÊÑèÊôÇÈñì)„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Fantasy+Park+Ba+Na+Hills" },
                    { id: "2-6", time: "16:30 - 18:30", title: "‰∏ãÂ±± & ËøîÂõûÂ∏ÇÂçÄ", desc: "Êê≠Á∫úËªä‰∏ãÂ±±ÔºåÊé•ÈÄÅËøîÂõûÂ≥¥Ê∏ØÂ∏ÇÂçÄ„ÄÇ", type: "transport", transportMode: "üöå KKdayÊé•ÈÄÅ/Á∫úËªä" },
                    { id: "2-7", time: "18:30 - 19:00", title: "ÊèõÂåØ (Â¶ÇÊúâÈúÄË¶Å)", desc: "Â∏ÇÂçÄÈäÄÊ®ìË£úÊèõÂåØÁéá„ÄÇ", type: "activity" },
                    { id: "2-8", time: "19:00 - 20:30", title: "ÊôöÈ§êÔºöÈüìÊ±üÁïî/Êµ∑ÈÆÆ", desc: "ÈüìÊ±üÈÇäÈ§êÂª≥Áî®È§ê(ÊôØËßÄÊàñÊµ∑ÈÆÆ)ÔºåÈ§êÂæåÊ≠•Ë°åËá≥ÈæçÊ©ã„ÄÇ", type: "food" },
                    { id: "2-9", time: "20:30 - 21:15", title: "ÈæçÊ©ãÂô¥ÁÅ´ÁßÄ", desc: "‚ö†Ô∏è Âô¥ÁÅ´ÊôÇÈñìÁ¥Ñ 15 ÂàÜÈêò„ÄÇ\nË®òÂæóÁ´ôÂú®„ÄåÈÄÜÈ¢®Ëôï„ÄçÈÅøÂÖçË¢´Ê∞¥Âô¥Êøï„ÄÇ", type: "activity", important: true, mapLink: "https://www.google.com/maps/search/?api=1&query=Dragon+Bridge+Da+Nang" },
                    { id: "2-10", time: "21:30", title: "ÂõûÈ£ØÂ∫ó", desc: "ËøîÂõû Cozy Danang„ÄÇ", type: "transport", transportMode: "üöï Grab/Ê≠•Ë°å" }
                ]
            },
            {
                day: 3, date: "1/31 (ÂÖ≠)", title: "‰∫îË°åÂ±± & Ë≥ºÁâ© & ÈæçËù¶È§ê",
                activities: [
                    { id: "3-1", time: "08:00 - 09:00", title: "Êó©È§ê", desc: "È£ØÂ∫ó‰∫´Áî®Êó©È§ê„ÄÇ", type: "food" },
                    { id: "3-2", time: "09:00 - 09:30", title: "ÂâçÂæÄ‰∫îË°åÂ±±", desc: "ÂâçÂæÄÊ∞¥Â±±ÈõªÊ¢ØÂîÆÁ•®Âè£„ÄÇ", type: "transport", transportMode: "üöï Grab ‰∏É‰∫∫Â∫ß" },
                    { id: "3-3", time: "09:30 - 12:00", title: "‰∫îË°åÂ±± (Marble Mt.)", desc: "Âª∫Ë≠∞ÔºöÈõªÊ¢Ø‰∏äÂ±±ÔºåËµ∞‰∏ãÂ±± (Á¥Ñ10min)„ÄÇ\nÂèÉËßÄÈùàÊáâÂØ∫„ÄÅÁéÑÁ©∫Ê¥û„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Marble+Mountains" },
                    { id: "3-4", time: "12:00 - 14:00", title: "ÂçàÈ§êÔºöTh√¨a G·ªó", desc: "Á±≥ÂÖ∂ÊûóÊé®Ëñ¶È§êÂª≥ (ÁáüÊ•≠ 10:00-22:00)„ÄÇ", type: "food", mapLink: "https://maps.app.goo.gl/rDoEnjrEWSosd3Hh8?g_st=ipc" },
                    { id: "3-5", time: "14:00 - 17:00", title: "Êº¢Â∏ÇÂ†¥ & Á≤âÁ¥ÖÊïôÂ†Ç", desc: "Êº¢Â∏ÇÂ†¥ (Han Market)Ôºö\n1F ‰º¥ÊâãÁ¶Æ/‰πæË≤®Ôºå2F Ë°£ÊúçÈûãÂ≠ê„ÄÇ\nÂë®ÈÇäÈáëÈ£æÂ∫óÂèØÊèõÂåØ„ÄÇ", type: "shopping", mapLink: "https://www.google.com/maps/search/?api=1&query=Han+Market" },
                    { id: "3-6", time: "17:00 - 20:00", title: "ÊôöÈ§êÔºöÈæçËù¶ÂêÉÂà∞È£Ω", desc: "All Seasons Buffet Da Nang„ÄÇ\n‚ö†Ô∏è Â∑≤Ë®Ç‰ΩçÔºåÁèæÂ†¥‰ªòË≤ª (KKdayË®Ç‰Ωç)„ÄÇ", type: "food", important: true, mapLink: "https://maps.app.goo.gl/GdaKeaQEXVduQL2T9?g_st=ipc" },
                    { id: "3-7", time: "20:00 - 22:00", title: "ÁæéÊ∫™Ê≤ôÁÅò & ÊåâÊë©", desc: "‰∏ñÁïåÂÖ≠Â§ßÊúÄÁæéÊ≤ôÁÅòÊï£Ê≠•„ÄÅÂë®ÈÇäÁÜ±Áü≥ÊåâÊë©/Bar„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=My+Khe+Beach" },
                    { id: "3-8", time: "22:00", title: "ÂõûÈ£ØÂ∫ó", desc: "ËøîÂõû Cozy Danang„ÄÇ", type: "transport", transportMode: "üöï Grab" }
                ]
            },
            {
                day: 4, date: "2/1 (Êó•)", title: "È†ÜÂåñÁöáÂüéÂè§ÈÉΩ (ÂåÖËªä)",
                activities: [
                    { id: "4-1", time: "08:00 - 09:00", title: "Êó©È§ê", desc: "È£ØÂ∫óÊó©È§ê„ÄÇ", type: "food" },
                    { id: "4-2", time: "09:00 - 11:30", title: "ÂâçÂæÄÈ†ÜÂåñ", desc: "KLOOK ÂåÖËªä 12Â∞èÊôÇ„ÄÇ\nÈÄîÁ∂ìÔºöÊµ∑Èõ≤ÈóúÈöòÂè£„ÄÅÈôµÂßëÁÅ£ (‰∫∫ÁîüÂøÖÂéª50ÊôØÈªû)„ÄÇ", type: "transport", transportMode: "üöó KLOOK ÂåÖËªä", mapLink: "https://www.google.com/maps/search/?api=1&query=Hai+Van+Pass" },
                    { id: "4-3", time: "11:30 - 12:30", title: "ÂçàÈ§êÔºöÈ†ÜÂåñÊñôÁêÜ", desc: "Êé®Ëñ¶ÔºöMadame Thu Êàñ Quan Hanh„ÄÇ\nÂøÖÂêÉÔºöÈ†ÜÂåñÁâõËÇâÁ≤â (Bun Bo Hue)„ÄÅÊµÆËêçÈ§Ö„ÄÅÁ±≥È§É„ÄÇ", type: "food" },
                    { id: "4-4", time: "12:30 - 15:00", title: "È†ÜÂåñÁöáÂüé", desc: "Ë∂äÂçóÁ∏ÆÂ∞èÁâàÁ¥´Á¶ÅÂüéÔºåÂèÉËßÄÁ¥Ñ 2H„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Hue+Imperial+City" },
                    { id: "4-5", time: "15:00 - 16:00", title: "ÂïüÂÆöÁöáÈôµ", desc: "ËûçÂêàÊù±Ë•øÊñπÂª∫ÁØâÈ¢®Ê†ºÁöÑÁöáÈôµ (ÂÇôÊ°àÔºöÂ§©Âß•ÂØ∫)„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Tomb+of+Khai+Dinh" },
                    { id: "4-6", time: "16:00 - 18:00", title: "ËøîÂõûÂ≥¥Ê∏Ø", desc: "Á∂ìÊµ∑Èõ≤ÈößÈÅìËøîÂõû„ÄÇ", type: "transport", transportMode: "üöó KLOOK ÂåÖËªä" },
                    { id: "4-7", time: "18:00 - 20:30", title: "ÊôöÈ§êÔºöÂ±±Ëå∂Â§úÂ∏Ç", desc: "ÁÉ§ÈæçËù¶„ÄÅÊµ∑ÈÆÆÁõ§„ÄÅË∂äÂºèÁÖéÈ§Ö„ÄÇ\nË≥ºÁâ©ÔºöËó§Á∑®ÂåÖ„ÄÅTÊÅ§ (Ë®òÂæóÊÆ∫ÂÉπ)„ÄÇ\n‚ö†Ô∏è ÂÇôË®ªÔºöËã•ÊìîÂøÉÊµ∑ÈÆÆ‰∏çÊñ∞ÈÆÆÔºåÂèØÁ¥îÈÄõË°óÔºåÂêÉÂà•ÁöÑ„ÄÇ", type: "food", important: true, mapLink: "https://www.google.com/maps/search/?api=1&query=Son+Tra+Night+Market" },
                    { id: "4-8", time: "20:30 - 21:00", title: "ÈæçÊ©ã (ÂÇôÊ°à)", desc: "ÈÄ±‰∫î~ÈÄ±Êó• 21:00 Âô¥ÁÅ´ÔºåËã•ÈÄ±‰∫îÊ≤íÁúãÂà∞ÂèØË£úÁúã„ÄÇ", type: "activity" },
                    { id: "4-9", time: "21:30", title: "ÂõûÈ£ØÂ∫ó", desc: "ËøîÂõû Cozy Danang (ÊúÄÂæå‰∏ÄÊôö)„ÄÇ", type: "transport", transportMode: "üöï Grab/Ê≠•Ë°å" }
                ]
            },
            {
                day: 5, date: "2/2 (‰∏Ä)", title: "Ëø¶ÂçóÂ≥∂ & ÁßªÂãïÂà∞ÊúÉÂÆâ",
                activities: [
                    { id: "5-1", time: "08:00 - 09:00", title: "Êó©È§ê & ÈÄÄÊàø", desc: "Êï¥ÁêÜË°åÊùéÈÄÄÊàø„ÄÇ", type: "food" },
                    { id: "5-2", time: "09:00 - 10:00", title: "ÂâçÂæÄËø¶ÂçóÂ≥∂", desc: "Â∏∂ËëóË°åÊùéÁßªÂãï„ÄÇ", type: "transport", transportMode: "üöó KLOOK ÂåÖËªä (4H)" },
                    { id: "5-3", time: "10:00 - 11:00", title: "Ëø¶ÂçóÂ≥∂Á´πÁ±ÉËàπ", desc: "È´îÈ©óÂÇ≥Áµ±Ê°∂ËàπÊóãËΩâË°®Êºî„ÄÇ\n‚ö†Ô∏è ËàπÂ§´Â∞èË≤ªÁ¥Ñ 20,000-50,000 VND„ÄÇ", type: "activity", important: true },
                    { id: "5-4", time: "11:00 - 12:30", title: "ÂçàÈ§êÔºöÊµ∑ÈÆÆÁÅ´Èçã", desc: "Êµ∑ÈÆÆÁÅ´Èçã„ÄÅÁÉ§Ëù¶„ÄÅÁÇíÁ©∫ÂøÉËèú„ÄÇ", type: "food", mapLink: "https://maps.app.goo.gl/6yAqR58QEe6GuCfG8?g_st=ipc" },
                    { id: "5-5", time: "12:30 - 13:00", title: "ÂâçÂæÄÊúÉÂÆâÈ£ØÂ∫ó", desc: "Âç∏‰∏ãË°åÊùé„ÄÇ", type: "transport", transportMode: "üöó KLOOK ÂåÖËªä" },
                    { id: "5-6", time: "13:00 - 14:00", title: "Check-in", desc: "Lantana Boutique Hoi An Hotel", type: "hotel", mapLink: "https://www.google.com/maps/search/?api=1&query=Lantana+Boutique+Hoi+An+Hotel" },
                    { id: "5-7", time: "14:00 - 16:00", title: "ÊúÉÂÆâÂè§ÂüéÊº´ÈÅä", desc: "ÊôØÈªûÔºöÊó•Êú¨Ê©ã (Lai Vien Kieu)„ÄÅÁ¶èÂª∫ÊúÉÈ§®„ÄÇ\n‰∏ãÂçàËå∂ÔºöMot Hoi An (Ëç∑Ëä±Ëå∂)„ÄÅFaifo Coffee (È†ÇÊ®ìÂÖ®ÊôØ)„ÄÇ\nË≥ºÁâ©ÔºöË£ÅÁ∏´Â∫ó„ÄÅÁáàÁ±†Â∫ó„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=Hoi+An+Ancient+Town" },
                    { id: "5-8", time: "16:00 - 16:30", title: "ÂâçÂæÄÂç∞Ë±°Ê®ÇÂúí", desc: "ÂâçÂæÄÊúÉÂÆâÂç∞Ë±°Ê®ÇÂúí„ÄÇ", type: "transport", transportMode: "üöï Grab ‰∏É‰∫∫Â∫ß" },
                    { id: "5-9", time: "16:30 - 17:30", title: "Ê®ÇÂúíËøéË≥ìÁßÄ", desc: "16:00 ÂÖ•ÂúíÊèõÁ•® (KKday)„ÄÇ\nËßÄË≥ûËøéË≥ìÁßÄ (Mini Shows)„ÄÇ", type: "activity" },
                    { id: "5-10", time: "17:30 - 18:45", title: "ÊôöÈ§êÔºöN√≥n L√° (ÊñóÁ¨†)", desc: "ÂúíÂçÄÂÖßËá™Âä©È§ê„ÄÇ", type: "food" },
                    { id: "5-11", time: "20:00 - 21:00", title: "ÊúÉÂÆâÂõûÊÜ∂ÁßÄ (Main)", desc: "ÂØ¶ÊôØÁßÄ„ÄÇ\n‚ö†Ô∏è Êï£Â†¥ÊäÄÂ∑ßÔºöËµ∞Âá∫ÂäáÂ†¥ÂæåÈÅéÊ©ãÔºåGrab ÂÆö‰Ωç 'Hoi An Impression Theme Park Gate'ÔºåÊàñÊê≠Êé•ÈßÅËªä„ÄÇ", type: "activity", important: true },
                    { id: "5-12", time: "21:30", title: "ÂõûÈ£ØÂ∫ó", desc: "ËøîÂõû Lantana Hotel„ÄÇ", type: "transport", transportMode: "üöï Grab" }
                ]
            },
            {
                day: 6, date: "2/3 (‰∫å)", title: "ÁæéÂ±±ËÅñÂú∞ & Âè§Âüé‰πãÂ§ú",
                activities: [
                    { id: "6-1", time: "08:00 - 09:00", title: "Êó©È§ê", desc: "È£ØÂ∫óÊó©È§ê„ÄÇ", type: "food" },
                    { id: "6-2", time: "09:00 - 10:00", title: "ÂâçÂæÄÁæéÂ±±ËÅñÂú∞", desc: "ËªäÁ®ãÁ¥Ñ 1 Â∞èÊôÇ„ÄÇ", type: "transport", transportMode: "üöó KLOOK ÂåÖËªä (4H)" },
                    { id: "6-3", time: "10:00 - 11:40", title: "ÁæéÂ±±ËÅñÂú∞", desc: "ÂèÉËßÄÂç†Â©ÜÁéãÂúãÈÅ∫ÂùÄ„ÄÇ\nÊê≠‰πòÂúíÂçÄÊé•ÈßÅËªä -> ÂèÉËßÄBCDÂçÄ -> ËßÄË≥ûÂç†Â©ÜËàûËπà(20min)„ÄÇ", type: "activity", mapLink: "https://www.google.com/maps/search/?api=1&query=My+Son+Sanctuary" },
                    { id: "6-4", time: "11:40 - 13:00", title: "ËøîÂõûÊúÉÂÆâ", desc: "Ëµ∞ÂõûÈñÄÂè£Êê≠ËªäÔºåËøîÂõûÊúÉÂÆâÂ∏ÇÂçÄ„ÄÇ", type: "transport", transportMode: "üöó KLOOK ÂåÖËªä" },
                    { id: "6-5", time: "13:00 - 16:00", title: "ÂçàÈ§ê & Âè§ÂüéÈñíÈÄõ", desc: "ÁπºÁ∫åÊé¢Á¥¢Âè§Âüé„ÄÅË≥ºÁâ©„ÄÇ", type: "shopping" },
                    { id: "6-6", time: "16:00 - 17:00", title: "Ë∂äÂºè‰∏ãÂçàËå∂", desc: "Êé®Ëñ¶ÔºöFaifo Coffee Êàñ Mot Hoi An„ÄÇ", type: "food" },
                    { id: "6-7", time: "17:00 - 18:30", title: "ÊôöÈ§êÔºöMorning Glory", desc: "Êàñ Miss Ly„ÄÇ\nÂøÖÈªûÊúÉÂÆâ‰∏âÂØ∂ÔºöÁôΩÁé´Áë∞„ÄÅÁÇ∏Èõ≤Âêû„ÄÅÈ´òÊ®ìÈ∫µ„ÄÇ", type: "food", mapLink: "https://maps.app.goo.gl/XrtAG4HdWu6vD67EA?g_st=ic" },
                    { id: "6-8", time: "18:30 - 19:30", title: "ÊîæÊ∞¥Ááà (ÁßãÁõÜÊ≤≥)", desc: "Ëµ∞Âà∞ÂÆâÊúÉÊ©ã (An Hoi Bridge)ÔºåÊê≠‰πòËà¢Ëà®ËàπÊîæÊ∞¥Ááà„ÄÇ", type: "activity" },
                    { id: "6-9", time: "19:30 - 21:00", title: "ÊúÉÂÆâÂ§úÂ∏Ç", desc: "ÁáàÁ±†Ë°ó„ÄÅÁ´πÁ∑®ÂåÖ„ÄÅË°óÈ†≠Â∞èÂêÉ (È¶ôËïâÁÖéÈ§Ö)„ÄÇ", type: "shopping", mapLink: "https://www.google.com/maps/search/?api=1&query=Hoi+An+Night+Market" },
                    { id: "6-10", time: "21:00", title: "ÂõûÈ£ØÂ∫ó", desc: "Ê≠•Ë°åÊàñÊê≠ËªäËøîÂõû Lantana Hotel„ÄÇ", type: "transport", transportMode: "üö∂ Ê≠•Ë°å/‰∫∫ÂäõËªä" }
                ]
            },
            {
                day: 7, date: "2/4 (‰∏â)", title: "ËøîÁ®ã",
                activities: [
                    { id: "7-1", time: "06:30 - 07:00", title: "Êó©È§ê", desc: "È£ØÂ∫óÁ∞°ÊòìÊó©È§ê/ÈÄÄÊàø„ÄÇ", type: "food" },
                    { id: "7-2", time: "07:00 - 07:45", title: "ÂâçÂæÄÂ≥¥Ê∏ØÊ©üÂ†¥", desc: "ÂæûÊúÉÂÆâÂá∫ÁôºÔºåÈ†êÁïôËªäÁ®ãÊôÇÈñì„ÄÇ\n(KKday Êé•ÈÄÅ)", type: "transport", transportMode: "üöå KKday Êé•ÈÄÅ" },
                    { id: "7-3", time: "10:20 - 14:05", title: "È£õÊ©üËøîÁ®ã", desc: "ËèØËà™ CI788 (Â≥¥Ê∏Ø T2 -> Ê°ÉÂúí T1)„ÄÇ", type: "flight" }
                ]
            }
        ];

        // --- SVGs ---
        const icons = {
            plane: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12h20"/><path d="M20 12v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M18 12a2 2 0 0 0 0 4h-4a2 2 0 0 1 0-4"/><path d="M6 16a2 2 0 0 1 0-4"/></svg>`,
            hotel: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 22H5a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2Z"/><path d="M9 22v-6a3 3 0 0 1 6 0v6"/><path d="M5 8h14"/><path d="M5 14h14"/></svg>`,
            mapPin: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,
            calendar: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>`,
            clock: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>`,
            copy: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>`,
            utensils: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>`,
            camera: `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>`,
            car: `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/><path d="M5 17h6"/></svg>`,
            alert: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-500 animate-pulse"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>`,
            nav: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>`,
            chevronDown: `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>`,
            chevronUp: `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>`,
            bus: `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 6v6"/><path d="M15 6v6"/><path d="M2 12h19.6"/><path d="M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3"/><circle cx="7" cy="18" r="2"/><path d="M9 18h5"/><circle cx="16" cy="18" r="2"/></svg>`,
            footprints: `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 11 3.8 11 8c0 1.25-1 2-1 2s0 .02 0 0a2.38 2.38 0 0 0-3.33 3.61c.45.42.78 1.05.78 1.77V19a2 2 0 0 0 2 2 2 2 0 0 1 2 2v1a2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.25 0-2.43 0-3 0-1.16-.57-2.18-1.46-2.82A1.97 1.97 0 0 0 4 16Z"/><path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 13 7.8 13 12c0 1.25 1 2 1 2s0 .02 0 0a2.38 2.38 0 0 0 3.33 3.61c-.45.42-.78 1.05-.78 1.77V23a2 2 0 0 0-2 2 2 2 0 0 1-2 2v-1a2 2 0 0 1 2-2 2 2 0 0 1 2 2c0-1.25 0-2.43 0-3 0-1.16.57-2.18 1.46-2.82A1.97 1.97 0 0 0 20 20Z"/></svg>`,
            ship: `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.9 5.8 2.8 8"/><path d="M17.5 10l-4-5.3a3 3 0 0 0-3 0L6.5 10"/><path d="M12 4v7"/></svg>`
        };

        // --- State ---
        let state = {
            activeTab: 'itinerary',
            selectedDay: 0,
            expandedItems: {}
        };

        // --- Logic ---
        function switchTab(tab) {
            state.activeTab = tab;
            updateTabUI();
            renderContent();
        }

        function selectDay(index) {
            state.selectedDay = index;
            renderItinerary();
        }

        function toggleExpand(id) {
            state.expandedItems[id] = !state.expandedItems[id];
            
            const descEl = document.getElementById(`desc-${id}`);
            const arrowEl = document.getElementById(`arrow-${id}`);
            const textEl = document.getElementById(`text-${id}`);
            
            if (state.expandedItems[id]) {
                descEl.classList.add('open');
                textEl.innerHTML = 'Êî∂Ëµ∑';
                arrowEl.innerHTML = icons.chevronUp;
            } else {
                descEl.classList.remove('open');
                textEl.innerHTML = 'Â±ïÈñãÊõ¥Â§ö';
                arrowEl.innerHTML = icons.chevronDown;
            }
        }

        function copyToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                // Use a custom toast or simple alert
                const toast = document.createElement('div');
                toast.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white px-4 py-2 rounded-lg text-sm z-50 transition-opacity duration-300';
                toast.innerText = 'Â∑≤Ë§áË£Ω: ' + text;
                document.body.appendChild(toast);
                setTimeout(() => {
                    toast.style.opacity = '0';
                    setTimeout(() => document.body.removeChild(toast), 300);
                }, 1000);
            } catch (err) {
                alert("Ë§áË£ΩÂ§±Êïó");
            }
            document.body.removeChild(textArea);
        }

        function updateTabUI() {
            ['itinerary', 'flights', 'hotels'].forEach(tab => {
                const btn = document.getElementById(`tab-${tab}`);
                if (tab === state.activeTab) {
                    btn.className = `flex flex-col items-center justify-center w-full h-full gap-0.5 transition-colors ${tab === 'itinerary' ? 'text-teal-600 stroke-2' : tab === 'flights' ? 'text-blue-600 stroke-2' : 'text-purple-600 stroke-2'}`;
                } else {
                    btn.className = 'flex flex-col items-center justify-center w-full h-full gap-0.5 transition-colors text-gray-400 hover:text-gray-600';
                }
            });
        }

        function renderContent() {
            const main = document.getElementById('main-content');
            if (state.activeTab === 'itinerary') {
                renderItinerary();
            } else if (state.activeTab === 'flights') {
                main.innerHTML = getFlightsHTML();
            } else if (state.activeTab === 'hotels') {
                main.innerHTML = getHotelsHTML();
            }
        }

        function getStyleByType(type) {
             switch (type) {
                case 'transport': 
                case 'flight': return 'bg-blue-50 text-blue-700 border-blue-200';
                case 'hotel': return 'bg-purple-50 text-purple-700 border-purple-200';
                case 'food': return 'bg-orange-50 text-orange-700 border-orange-200';
                case 'shopping': return 'bg-pink-50 text-pink-700 border-pink-200';
                default: return 'bg-emerald-50 text-emerald-700 border-emerald-200';
            }
        }

        function getIconByType(type) {
             switch (type) {
                case 'transport': return icons.car;
                case 'flight': return icons.plane;
                case 'hotel': return icons.hotel;
                case 'food': return icons.utensils;
                case 'shopping': return icons.camera;
                default: return icons.mapPin;
            }
        }

        function renderItinerary() {
            const dayData = itinerary[state.selectedDay];
            const main = document.getElementById('main-content');
            
            let daysHtml = itinerary.map((day, idx) => `
                <button onclick="selectDay(${idx})" class="flex flex-col items-center justify-center min-w-[3.5rem] py-1.5 rounded-lg transition-all duration-200 border ${state.selectedDay === idx ? 'bg-teal-600 text-white border-teal-600 shadow-md transform scale-105' : 'bg-white text-gray-500 border-gray-200'}">
                    <span class="text-[10px] opacity-80 font-medium">Day ${day.day}</span>
                    <span class="text-xs font-bold ${state.selectedDay === idx ? 'text-white' : 'text-gray-800'}">${day.date.split('(')[0]}</span>
                </button>
            `).join('');

            let activitiesHtml = dayData.activities.map((item, idx) => {
                const isLast = idx === dayData.activities.length - 1;
                const transportModeHtml = (item.type === 'transport' && item.transportMode) ? `
                    <div class="bg-blue-50/50 px-4 py-1.5 border-b border-blue-50 flex items-center gap-2 text-xs font-medium text-blue-700">
                       ${item.transportMode.includes("Grab") ? icons.car : 
                         item.transportMode.includes("Ê≠•Ë°å") ? icons.footprints :
                         item.transportMode.includes("Ëàπ") ? icons.ship : icons.bus}
                       ${item.transportMode}
                    </div>
                ` : '';

                const mapLinkHtml = item.mapLink ? `
                    <a href="${item.mapLink}" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-teal-600 p-1 -mt-1 -mr-1 rounded-full hover:bg-gray-100 transition-colors" onclick="event.stopPropagation()">
                        ${icons.nav}
                    </a>
                ` : '';
                
                const importantIcon = item.important ? icons.alert : '';
                const hotelCopyBtn = item.type === 'hotel' ? `
                    <button onclick="event.stopPropagation(); copyToClipboard('${item.desc}')" class="mt-2 text-[10px] flex items-center gap-1 text-purple-600 border border-purple-100 bg-purple-50 px-2 py-1 rounded active:bg-purple-100 w-fit transition-colors">
                        ${icons.copy} Ë§áË£ΩÈ£ØÂ∫óÂêç
                    </button>
                ` : '';

                const showToggle = item.desc.length > 30;
                const toggleHtml = showToggle ? `
                    <div class="flex items-center gap-1 text-[10px] text-gray-400 mt-1 font-medium">
                       <span id="arrow-${item.id}" class="w-3 h-3 flex items-center justify-center">${state.expandedItems[item.id] ? icons.chevronUp : icons.chevronDown}</span>
                       <span id="text-${item.id}">${state.expandedItems[item.id] ? 'Êî∂Ëµ∑' : 'Â±ïÈñãÊõ¥Â§ö'}</span>
                    </div>
                ` : '';
                
                // Pre-calculate line clamp class based on initial state
                const initialLineClamp = state.expandedItems[item.id] ? '' : 'line-clamp-2';
                const initialHeightClass = state.expandedItems[item.id] ? 'open' : '';

                // We handle the text expansion slightly differently in Vanilla JS to animate it
                // Instead of conditional rendering, we render full text but use max-height/line-clamp
                
                return `
                <div class="relative">
                    ${!isLast ? '<div class="absolute left-[19px] top-8 bottom-[-24px] w-0.5 bg-gray-200 z-0"></div>' : ''}
                    <div class="relative z-10 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-200 mb-4">
                        ${transportModeHtml}
                        <div class="flex items-start gap-3 p-4 cursor-pointer hover:bg-gray-50/50 transition-colors ${item.important ? 'bg-yellow-50/30' : ''}" onclick="toggleExpand('${item.id}')">
                            <div class="mt-0.5 w-8 h-8 rounded-full flex items-center justify-center shrink-0 border ${getStyleByType(item.type)}">
                                ${getIconByType(item.type)}
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="flex justify-between items-start">
                                    <div class="flex flex-col">
                                        <span class="text-xs font-bold text-gray-400 mb-0.5">${item.time}</span>
                                        <h3 class="text-base font-bold text-gray-800 leading-tight pr-2">${item.title}</h3>
                                    </div>
                                    <div class="flex gap-2 shrink-0">
                                        ${importantIcon}
                                        ${mapLinkHtml}
                                    </div>
                                </div>
                                <div class="mt-2 text-sm text-gray-600 leading-relaxed whitespace-pre-wrap">
                                    <div id="desc-${item.id}" class="${!state.expandedItems[item.id] ? 'line-clamp-2' : ''} transition-all">
                                        ${item.desc}
                                    </div>
                                    ${toggleHtml}
                                </div>
                                ${hotelCopyBtn}
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }).join('');

            main.innerHTML = `
                <div class="bg-white/95 backdrop-blur-sm shadow-sm pt-2 pb-2 overflow-x-auto whitespace-nowrap hide-scrollbar border-b border-gray-100 flex-none z-10 sticky top-0">
                    <div class="flex px-4 space-x-2">
                        ${daysHtml}
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto bg-gray-50">
                    <div class="px-5 py-4 bg-white border-b border-gray-100 sticky top-0 z-0">
                        <h2 class="text-xl font-bold text-gray-800 flex flex-col">
                            <span class="text-teal-700">${dayData.title}</span>
                            <span class="text-xs font-normal text-gray-400 mt-1">${dayData.date}</span>
                        </h2>
                    </div>
                    <div class="p-4">
                        ${activitiesHtml}
                    </div>
                     <div class="h-16 flex items-center justify-center text-xs text-gray-400 italic">
                        - Day ${dayData.day} End -
                    </div>
                </div>
            `;
        }

        function getFlightsHTML() {
            return `
            <div class="p-4 space-y-3 pb-24 bg-gray-50 h-full overflow-y-auto">
                <h2 class="text-lg font-bold text-gray-800 mb-2 pl-1 flex items-center gap-2">
                    <span class="text-blue-600">${icons.plane}</span> Ëà™Áè≠
                </h2>
                ${flights.map(flight => `
                    <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 relative overflow-hidden">
                        <div class="absolute top-0 right-0 bg-blue-600 text-white text-[10px] px-2 py-0.5 rounded-bl-lg font-bold">
                            ${flight.type}
                        </div>
                        <div class="flex items-center gap-1.5 mb-2 text-gray-500 text-xs font-medium">
                            <span class="text-gray-400">${icons.calendar}</span> ${flight.date}
                        </div>
                        <div class="flex justify-between items-center mb-3">
                            <div class="text-center">
                                <div class="text-xl font-bold text-gray-800">${flight.time.split('-')[0].trim()}</div>
                                <div class="text-[10px] text-gray-500">${flight.from}</div>
                            </div>
                            <div class="flex-1 flex flex-col items-center px-2">
                                <div class="w-full h-[1px] bg-blue-100 relative my-1">
                                    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rotate-90 text-blue-300">
                                       <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12h20"/><path d="M20 12v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M18 12a2 2 0 0 0 0 4h-4a2 2 0 0 1 0-4"/><path d="M6 16a2 2 0 0 1 0-4"/></svg>
                                    </div>
                                </div>
                                <span class="text-[10px] text-blue-600 font-bold">${flight.airline}</span>
                            </div>
                            <div class="text-center">
                                <div class="text-xl font-bold text-gray-800">${flight.time.split('-')[1].trim()}</div>
                                <div class="text-[10px] text-gray-500">${flight.to}</div>
                            </div>
                        </div>
                        <div class="bg-blue-50/50 rounded p-2 text-[10px] text-blue-800 border border-blue-50">
                            ${flight.note}
                        </div>
                    </div>
                `).join('')}
            </div>`;
        }

        function getHotelsHTML() {
            return `
            <div class="p-4 space-y-3 pb-24 bg-gray-50 h-full overflow-y-auto">
                <h2 class="text-lg font-bold text-gray-800 mb-2 pl-1 flex items-center gap-2">
                    <span class="text-purple-600">${icons.hotel}</span> ‰ΩèÂÆø
                </h2>
                ${hotels.map(hotel => `
                    <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100">
                        <div class="flex justify-between items-start mb-1">
                            <span class="bg-purple-50 text-purple-700 text-[10px] font-bold px-1.5 py-0.5 rounded">
                                ${hotel.location}
                            </span>
                            <span class="text-[10px] text-gray-400">${hotel.dates}</span>
                        </div>
                        <h3 class="text-base font-bold text-gray-800 mb-1 leading-tight">${hotel.name}</h3>
                        
                        <div class="flex items-center gap-2 text-xs text-gray-500 mb-3">
                            <span class="text-gray-400">${icons.clock}</span>
                            <span>In ${hotel.checkIn} / Out ${hotel.checkOut}</span>
                        </div>
                        
                        <div class="text-xs text-gray-600 mb-3 bg-gray-50 p-2 rounded leading-relaxed">
                            ${hotel.note}
                        </div>

                        <div class="grid grid-cols-2 gap-2">
                            <a href="${hotel.mapLink}" target="_blank" rel="noreferrer" class="flex items-center justify-center gap-1.5 bg-gray-50 hover:bg-gray-100 text-gray-600 py-2 rounded-lg text-xs font-medium transition-colors border border-gray-100">
                                ${icons.mapPin} Âú∞Âúñ
                            </a>
                            <button onclick="copyToClipboard('${hotel.name}')" class="flex items-center justify-center gap-1.5 bg-purple-50 hover:bg-purple-100 text-purple-700 py-2 rounded-lg text-xs font-medium transition-colors border border-purple-100">
                                ${icons.copy} Ë§áË£Ω
                            </button>
                        </div>
                    </div>
                `).join('')}
            </div>`;
        }

        // Initialize
        renderContent();
        updateTabUI();

    </script>
</body>
</html>